ARM GAS  C:\Users\DMFILA~1\AppData\Local\Temp\cc39iDXa.s 			page 1


   1              		.cpu cortex-m4
   2              		.eabi_attribute 27, 1
   3              		.eabi_attribute 28, 1
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 1
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"animation.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.section	.text.animationInit,"ax",%progbits
  18              		.align	1
  19              		.global	animationInit
  20              		.arch armv7e-m
  21              		.syntax unified
  22              		.thumb
  23              		.thumb_func
  24              		.fpu fpv4-sp-d16
  26              	animationInit:
  27              	.LFB126:
  28              		.file 1 "Core/Src/animation.c"
   1:Core/Src/animation.c **** #include "animation.h"
   2:Core/Src/animation.c **** 
   3:Core/Src/animation.c **** uint16_t blinkTimer=0;
   4:Core/Src/animation.c **** uint16_t blinkTimer1=0;
   5:Core/Src/animation.c **** uint16_t updateTimer = 0;
   6:Core/Src/animation.c **** int war=0;
   7:Core/Src/animation.c **** extern uint8_t mode;
   8:Core/Src/animation.c **** extern double echo_mes[12];
   9:Core/Src/animation.c **** // void TIM8_TRG_COM_TIM14_IRQHandler(void)
  10:Core/Src/animation.c **** // {
  11:Core/Src/animation.c **** // 	if((TIM14->SR &TIM_SR_UIF)!=0)
  12:Core/Src/animation.c **** // 	{
  13:Core/Src/animation.c **** // 		TIM14->SR&=~TIM_SR_UIF;//Сброс флага прерывания
  14:Core/Src/animation.c **** // 		blinkTimer++;
  15:Core/Src/animation.c **** // 		blinkTimer1++;
  16:Core/Src/animation.c **** // 		updateTimer++;
  17:Core/Src/animation.c **** // 	}
  18:Core/Src/animation.c **** // }
  19:Core/Src/animation.c **** 
  20:Core/Src/animation.c **** void animationInit(void)
  21:Core/Src/animation.c **** {
  29              		.loc 1 21 1 view -0
  30              		.cfi_startproc
  31              		@ args = 0, pretend = 0, frame = 0
  32              		@ frame_needed = 0, uses_anonymous_args = 0
  33              		@ link register save eliminated.
  22:Core/Src/animation.c **** 	// RCC->APB1ENR|=RCC_APB1ENR_TIM14EN;//Тактирование таймера 14
  23:Core/Src/animation.c **** 	// TIM14->PSC|=16800;//Предделитель на 10кГц
  24:Core/Src/animation.c **** 	// TIM14->ARR=9;//Делитель на 1кГц
  25:Core/Src/animation.c **** 	// TIM14->DIER|=TIM_DIER_UIE;//Разрешить прерывание по переполнени
ARM GAS  C:\Users\DMFILA~1\AppData\Local\Temp\cc39iDXa.s 			page 2


  26:Core/Src/animation.c **** 	// NVIC_EnableIRQ(TIM8_TRG_COM_TIM14_IRQn);
  27:Core/Src/animation.c **** 	// TIM14->CR1|=TIM_CR1_CEN;//Запустить таймер
  28:Core/Src/animation.c **** }
  34              		.loc 1 28 1 view .LVU1
  35 0000 7047     		bx	lr
  36              		.cfi_endproc
  37              	.LFE126:
  39              		.section	.text.animationLoop,"ax",%progbits
  40              		.align	1
  41              		.global	animationLoop
  42              		.syntax unified
  43              		.thumb
  44              		.thumb_func
  45              		.fpu fpv4-sp-d16
  47              	animationLoop:
  48              	.LFB127:
  29:Core/Src/animation.c **** 
  30:Core/Src/animation.c **** void animationLoop(void)
  31:Core/Src/animation.c **** {
  49              		.loc 1 31 1 view -0
  50              		.cfi_startproc
  51              		@ args = 0, pretend = 0, frame = 0
  52              		@ frame_needed = 0, uses_anonymous_args = 0
  53 0000 00B5     		push	{lr}
  54              	.LCFI0:
  55              		.cfi_def_cfa_offset 4
  56              		.cfi_offset 14, -4
  57 0002 83B0     		sub	sp, sp, #12
  58              	.LCFI1:
  59              		.cfi_def_cfa_offset 16
  32:Core/Src/animation.c **** 	static uint8_t blinkState=0;
  60              		.loc 1 32 2 view .LVU3
  33:Core/Src/animation.c **** 	static uint8_t blinkState1=0;
  61              		.loc 1 33 2 view .LVU4
  34:Core/Src/animation.c **** 	static uint8_t redBlink=0;
  62              		.loc 1 34 2 view .LVU5
  35:Core/Src/animation.c **** 	static uint16_t hueAnimation=0;
  63              		.loc 1 35 2 view .LVU6
  36:Core/Src/animation.c **** 	static uint8_t hueDir=0;
  64              		.loc 1 36 2 view .LVU7
  37:Core/Src/animation.c **** 	
  38:Core/Src/animation.c **** 	if(hueAnimation==359)
  65              		.loc 1 38 2 view .LVU8
  66              		.loc 1 38 17 is_stmt 0 view .LVU9
  67 0004 114B     		ldr	r3, .L9
  68 0006 1B88     		ldrh	r3, [r3]
  69              		.loc 1 38 4 view .LVU10
  70 0008 40F26712 		movw	r2, #359
  71 000c 9342     		cmp	r3, r2
  72 000e 04D0     		beq	.L8
  39:Core/Src/animation.c **** 	{
  40:Core/Src/animation.c **** 		hueDir=1;
  41:Core/Src/animation.c **** 	}
  42:Core/Src/animation.c **** 	else if(hueAnimation==0)
  73              		.loc 1 42 7 is_stmt 1 view .LVU11
  74              		.loc 1 42 9 is_stmt 0 view .LVU12
  75 0010 33B9     		cbnz	r3, .L4
ARM GAS  C:\Users\DMFILA~1\AppData\Local\Temp\cc39iDXa.s 			page 3


  43:Core/Src/animation.c **** 	{
  44:Core/Src/animation.c **** 		hueDir=0;
  76              		.loc 1 44 3 is_stmt 1 view .LVU13
  77              		.loc 1 44 9 is_stmt 0 view .LVU14
  78 0012 0F4A     		ldr	r2, .L9+4
  79 0014 0021     		movs	r1, #0
  80 0016 1170     		strb	r1, [r2]
  81 0018 02E0     		b	.L4
  82              	.L8:
  40:Core/Src/animation.c **** 	}
  83              		.loc 1 40 3 is_stmt 1 view .LVU15
  40:Core/Src/animation.c **** 	}
  84              		.loc 1 40 9 is_stmt 0 view .LVU16
  85 001a 0D4A     		ldr	r2, .L9+4
  86 001c 0121     		movs	r1, #1
  87 001e 1170     		strb	r1, [r2]
  88              	.L4:
  45:Core/Src/animation.c **** 	}
  46:Core/Src/animation.c **** 	if(hueDir)
  89              		.loc 1 46 2 is_stmt 1 view .LVU17
  90              		.loc 1 46 5 is_stmt 0 view .LVU18
  91 0020 0B4A     		ldr	r2, .L9+4
  92 0022 1278     		ldrb	r2, [r2]	@ zero_extendqisi2
  93              		.loc 1 46 4 view .LVU19
  94 0024 72B1     		cbz	r2, .L5
  47:Core/Src/animation.c **** 		hueAnimation--;
  95              		.loc 1 47 3 is_stmt 1 view .LVU20
  96              		.loc 1 47 15 is_stmt 0 view .LVU21
  97 0026 013B     		subs	r3, r3, #1
  98 0028 084A     		ldr	r2, .L9
  99 002a 1380     		strh	r3, [r2]	@ movhi
 100              	.L6:
  48:Core/Src/animation.c **** 	else
  49:Core/Src/animation.c **** 	hueAnimation++;
  50:Core/Src/animation.c **** 	ledSetBlockHSV(0,LEDS_COUNT,hueAnimation,255,255);
 101              		.loc 1 50 2 is_stmt 1 view .LVU22
 102 002c FF23     		movs	r3, #255
 103 002e 0093     		str	r3, [sp]
 104 0030 064A     		ldr	r2, .L9
 105 0032 1288     		ldrh	r2, [r2]
 106 0034 4FF49571 		mov	r1, #298
 107 0038 0020     		movs	r0, #0
 108 003a FFF7FEFF 		bl	ledSetBlockHSV
 109              	.LVL0:
  51:Core/Src/animation.c **** 
  52:Core/Src/animation.c **** }
 110              		.loc 1 52 1 is_stmt 0 view .LVU23
 111 003e 03B0     		add	sp, sp, #12
 112              	.LCFI2:
 113              		.cfi_remember_state
 114              		.cfi_def_cfa_offset 4
 115              		@ sp needed
 116 0040 5DF804FB 		ldr	pc, [sp], #4
 117              	.L5:
 118              	.LCFI3:
 119              		.cfi_restore_state
  49:Core/Src/animation.c **** 	ledSetBlockHSV(0,LEDS_COUNT,hueAnimation,255,255);
ARM GAS  C:\Users\DMFILA~1\AppData\Local\Temp\cc39iDXa.s 			page 4


 120              		.loc 1 49 2 is_stmt 1 view .LVU24
  49:Core/Src/animation.c **** 	ledSetBlockHSV(0,LEDS_COUNT,hueAnimation,255,255);
 121              		.loc 1 49 14 is_stmt 0 view .LVU25
 122 0044 0133     		adds	r3, r3, #1
 123 0046 014A     		ldr	r2, .L9
 124 0048 1380     		strh	r3, [r2]	@ movhi
 125 004a EFE7     		b	.L6
 126              	.L10:
 127              		.align	2
 128              	.L9:
 129 004c 00000000 		.word	.LANCHOR0
 130 0050 00000000 		.word	.LANCHOR1
 131              		.cfi_endproc
 132              	.LFE127:
 134              		.global	war
 135              		.global	updateTimer
 136              		.global	blinkTimer1
 137              		.global	blinkTimer
 138              		.section	.bss.TimingDelay,"aw",%nobits
 139              		.align	2
 142              	TimingDelay:
 143 0000 00000000 		.space	4
 144              		.section	.bss.blinkTimer,"aw",%nobits
 145              		.align	1
 148              	blinkTimer:
 149 0000 0000     		.space	2
 150              		.section	.bss.blinkTimer1,"aw",%nobits
 151              		.align	1
 154              	blinkTimer1:
 155 0000 0000     		.space	2
 156              		.section	.bss.hueAnimation.8536,"aw",%nobits
 157              		.align	1
 158              		.set	.LANCHOR0,. + 0
 161              	hueAnimation.8536:
 162 0000 0000     		.space	2
 163              		.section	.bss.hueDir.8537,"aw",%nobits
 164              		.set	.LANCHOR1,. + 0
 167              	hueDir.8537:
 168 0000 00       		.space	1
 169              		.section	.bss.updateTimer,"aw",%nobits
 170              		.align	1
 173              	updateTimer:
 174 0000 0000     		.space	2
 175              		.section	.bss.war,"aw",%nobits
 176              		.align	2
 179              	war:
 180 0000 00000000 		.space	4
 181              		.text
 182              	.Letext0:
 183              		.file 2 "c:\\work\\arm\\xpack-arm-none-eabi-gcc-9.2.1-1.1\\arm-none-eabi\\include\\machine\\_defau
 184              		.file 3 "c:\\work\\arm\\xpack-arm-none-eabi-gcc-9.2.1-1.1\\arm-none-eabi\\include\\sys\\_stdint.h"
 185              		.file 4 "Drivers/CMSIS/Include/core_cm4.h"
 186              		.file 5 "Drivers/CMSIS/Device/ST/STM32F3xx/Include/system_stm32f3xx.h"
 187              		.file 6 "c:\\work\\arm\\xpack-arm-none-eabi-gcc-9.2.1-1.1\\arm-none-eabi\\include\\sys\\lock.h"
 188              		.file 7 "c:\\work\\arm\\xpack-arm-none-eabi-gcc-9.2.1-1.1\\arm-none-eabi\\include\\sys\\_types.h"
 189              		.file 8 "c:\\work\\arm\\xpack-arm-none-eabi-gcc-9.2.1-1.1\\lib\\gcc\\arm-none-eabi\\9.2.1\\include
 190              		.file 9 "c:\\work\\arm\\xpack-arm-none-eabi-gcc-9.2.1-1.1\\arm-none-eabi\\include\\sys\\reent.h"
ARM GAS  C:\Users\DMFILA~1\AppData\Local\Temp\cc39iDXa.s 			page 5


 191              		.file 10 "c:\\work\\arm\\xpack-arm-none-eabi-gcc-9.2.1-1.1\\arm-none-eabi\\include\\stdlib.h"
 192              		.file 11 "Core/Inc/rcc.h"
 193              		.file 12 "Core/Inc/LedControl.h"
ARM GAS  C:\Users\DMFILA~1\AppData\Local\Temp\cc39iDXa.s 			page 6


DEFINED SYMBOLS
                            *ABS*:0000000000000000 animation.c
C:\Users\DMFILA~1\AppData\Local\Temp\cc39iDXa.s:18     .text.animationInit:0000000000000000 $t
C:\Users\DMFILA~1\AppData\Local\Temp\cc39iDXa.s:26     .text.animationInit:0000000000000000 animationInit
C:\Users\DMFILA~1\AppData\Local\Temp\cc39iDXa.s:40     .text.animationLoop:0000000000000000 $t
C:\Users\DMFILA~1\AppData\Local\Temp\cc39iDXa.s:47     .text.animationLoop:0000000000000000 animationLoop
C:\Users\DMFILA~1\AppData\Local\Temp\cc39iDXa.s:129    .text.animationLoop:000000000000004c $d
C:\Users\DMFILA~1\AppData\Local\Temp\cc39iDXa.s:179    .bss.war:0000000000000000 war
C:\Users\DMFILA~1\AppData\Local\Temp\cc39iDXa.s:173    .bss.updateTimer:0000000000000000 updateTimer
C:\Users\DMFILA~1\AppData\Local\Temp\cc39iDXa.s:154    .bss.blinkTimer1:0000000000000000 blinkTimer1
C:\Users\DMFILA~1\AppData\Local\Temp\cc39iDXa.s:148    .bss.blinkTimer:0000000000000000 blinkTimer
C:\Users\DMFILA~1\AppData\Local\Temp\cc39iDXa.s:139    .bss.TimingDelay:0000000000000000 $d
C:\Users\DMFILA~1\AppData\Local\Temp\cc39iDXa.s:142    .bss.TimingDelay:0000000000000000 TimingDelay
C:\Users\DMFILA~1\AppData\Local\Temp\cc39iDXa.s:145    .bss.blinkTimer:0000000000000000 $d
C:\Users\DMFILA~1\AppData\Local\Temp\cc39iDXa.s:151    .bss.blinkTimer1:0000000000000000 $d
C:\Users\DMFILA~1\AppData\Local\Temp\cc39iDXa.s:157    .bss.hueAnimation.8536:0000000000000000 $d
C:\Users\DMFILA~1\AppData\Local\Temp\cc39iDXa.s:161    .bss.hueAnimation.8536:0000000000000000 hueAnimation.8536
C:\Users\DMFILA~1\AppData\Local\Temp\cc39iDXa.s:167    .bss.hueDir.8537:0000000000000000 hueDir.8537
C:\Users\DMFILA~1\AppData\Local\Temp\cc39iDXa.s:168    .bss.hueDir.8537:0000000000000000 $d
C:\Users\DMFILA~1\AppData\Local\Temp\cc39iDXa.s:170    .bss.updateTimer:0000000000000000 $d
C:\Users\DMFILA~1\AppData\Local\Temp\cc39iDXa.s:176    .bss.war:0000000000000000 $d

UNDEFINED SYMBOLS
ledSetBlockHSV
